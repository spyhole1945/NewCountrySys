<view class="create-container">
  <scroll-view class="content-scroll" scroll-y>
    <!-- 文本输入 -->
    <view class="text-section">
      <textarea 
        class="content-input" 
        placeholder="分享新鲜事..."
        value="{{content}}"
        bindinput="onContentInput"
        maxlength="500"
        auto-height
        focus
      />
      <text class="count">{{content.length}}/500</text>
    </view>

    <!-- 图片上传 -->
    <view class="image-section">
      <view class="image-grid">
        <view 
          wx:for="{{images}}" 
          wx:key="index"
          class="image-item"
        >
          <image src="{{item}}" mode="aspectFill" class="preview-image"></image>
          <view class="delete-btn" bindtap="deleteImage" data-index="{{index}}">
            <image src="/images/close-white.png" class="delete-icon"></image>
          </view>
        </view>
        
        <view 
          wx:if="{{images.length < 9}}" 
          class="upload-btn"
          bindtap="chooseImage"
        >
          <image src="/images/camera-gray.png" class="camera-icon"></image>
        </view>
      </view>
      
      <view class="tip">最多可上传9张图片</view>
    </view>
  </scroll-view>

  <!-- 底部按钮 -->
  <view class="footer">
    <button class="cancel-btn" bindtap="cancel">取消</button>
    <button class="submit-btn" bindtap="submit" disabled="{{submitting || !canSubmit}}">
      {{submitting ? '发布中...' : '发布'}}
    </button>
  </view>
</view>
