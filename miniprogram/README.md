# RuralSync - 微信小程序

乡村同行微信小程序 - 新农村协同治理平台的移动端应用

## 项目概述

这是一个面向农村用户(特别是老年用户)设计的微信小程序,提供问题上报、社区互动、农产品交易等功能。

### 核心特性

✅ **适老化设计**
- 大字体 (16-24px)
- 高对比度配色 (绿色主题 #4CAF50)
- 大按钮 (最小 44px 触摸区域)
- 清晰的视觉反馈

✅ **随手拍功能** (Phase 1 已完成)
- 📸 照片上传 (最多9张)
- 🎤 语音录入 (按住说话)
- 📍 位置选择 (地图选点)
- ✍️ 文字补充说明
- 🚀 一键提交到后端

## 快速开始

### 1. 环境准备

- 下载 [微信开发者工具](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html)
- 确保后端服务已启动 (Spring Boot)

### 2. 配置后端地址

编辑 `utils/config.js` 第7行:

```javascript
apiBaseUrl: 'http://YOUR_SERVER_IP:8080'
```

### 3. 导入项目

1. 打开微信开发者工具
2. 点击"导入项目"
3. 选择此目录: `/miniprogram`
4. 使用测试号或输入 AppID

### 4. 编译运行

- 点击"编译"按钮
- 在模拟器中查看
- 或扫码在真机测试

## 项目结构

```
miniprogram/
├── app.js/json/wxss      # 全局配置和样式
├── images/               # TabBar 图标
├── utils/                # 工具模块
│   ├── config.js        # API配置
│   ├── request.js       # HTTP请求封装
│   └── api.js           # API接口定义
└── pages/               # 页面
    ├── index/           # 首页
    ├── report/          # 随手拍 ⭐
    ├── market/          # 赶集 (待开发)
    └── profile/         # 找干部 (待开发)
```

## 已实现功能

### ⭐ 随手拍 (Smart Reporting)

完整的问题上报流程:

1. **选择问题类型**: 道路损坏、垃圾堆积、路灯故障等
2. **上传照片**: 支持相机拍摄或相册选择
3. **语音说明**: 按住录音,松开提交
4. **选择位置**: 调用微信地图选点
5. **补充文字**: 可选的详细描述
6. **提交**: 数据发送到后端 `/api/issues`

**API 对接**: 严格匹配后端 `IssueDTO` 结构
```json
{
  "type": "道路损坏",
  "content": "语音+文字+位置信息",
  "mediaUrls": ["图片URL1", "图片URL2"]
}
```

## 待开发功能

- 🛒 **赶集**: 农产品市场功能
- 👥 **找干部**: 村干部联系功能
- 🔐 **登录认证**: 完整的JWT登录流程
- 🗣️ **语音转文字**: 集成语音识别API
- 📤 **真实图片上传**: 替换当前的mock上传

## 技术栈

- 微信小程序原生开发
- 后端对接: Spring Boot REST API
- 认证方式: JWT (待实现)

## 开发状态

- ✅ 全局配置和样式
- ✅ 工具模块 (API, Request, Config)
- ✅ 随手拍功能 (完整实现)
- ✅ 首页 (基础版)
- 🚧 赶集功能 (占位页面)
- 🚧 找干部功能 (占位页面)

## 注意事项

> **图片上传**: 当前使用 mock 实现,返回模拟URL。生产环境需要实现真实的上传服务。

> **认证**: 当前使用占位token。需要实现完整的登录页面和JWT流程。

> **API地址**: 记得修改 `utils/config.js` 中的后端地址。

## 更多文档

详细的开发文档请查看项目根目录的 artifacts 文件夹。
